---
import Layout from "../layouts/Layout.astro";
import { getCollection } from "astro:content";
const allPosts = await getCollection("posts");
---

<Layout title="Blog - St. Nicholas Orthodox Church">
  <link rel="stylesheet" href="/posts.css" />
  
  <div id="body-wrapper">
    <div class="content">
      <h1>Blog Posts</h1>
      <div class="posts-grid">
        {
          allPosts.map((post) => (
            <a href={`/posts/${post.slug}`} class="post-card">
              {post.data.image && (
                <img src={post.data.image} alt={post.data.title} class="post-hero-image" />
              )}
              <div class="post-card-content">
                <h2>{post.data.title}</h2>
                {post.data.date && (
                  <p class="post-date">{post.data.date.toDateString()}</p>
                )}
                <p>{post.data.description}</p>
              </div>
            </a>
          ))
        }
      </div>
      <a href="/" class="back-button">‚Üê Go to Home</a>
    </div>
  </div>
</Layout>
